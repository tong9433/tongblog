---
layout: default
title:  "ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ ğŸ†•"
date:   2018-06-24
categories: "ì•Œê³ ë¦¬ì¦˜"
---


# ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬
* ë¶€ë¶„í•©, êµ¬ê°„ ê°œìˆ˜, êµ¬ê°„ ìµœëŒ“ê°’ ë“±ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆìŒ.
* ê¸°ì¡´ì— `O(N)`ì˜ ë³µì¡ë„ë¡œ í•´ê²°í•´ì•¼ í•˜ëŠ” ë¬¸ì œë¥¼ ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¥¼ í†µí•´ `O(logN)`ìœ¼ë¡œ í•´ê²°ê°€ëŠ¥
* êµ¬í˜„ì´ ì¡°ê¸ˆ ì–´ë µê³ , íŠ¸ë¦¬ë¥¼ êµ¬ì„±í•´ì•¼ í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ê°€ í•„ìš”.

<br>

## ì„¸ê·¸ë¨¼íŠ¸ ë¶€ë¶„ í•©
* ì¿¼ë¦¬ë¥¼ í†µí•´ êµ¬ê°„ì˜ í•©ì„ êµ¬í•  ìˆ˜ ìˆëŠ” ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ ( ê°€ì¥ ê¸°ë³¸í˜• )
* `init` í•¨ìˆ˜ : ì²« ë°ì´í„°ê°€ ì£¼ì–´ì§ˆ ë•Œ íŠ¸ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” í•¨ìˆ˜
* `update` í•¨ìˆ˜ : ì–´ë–¤ ë°ì´í„°ê°€ ë³€í™”í•  ë•Œ, ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ê³  íŠ¸ë¦¬ë¥¼ ë™ê¸°í™” ì‹œí‚¤ëŠ” í•¨ìˆ˜
* `query` í•¨ìˆ˜ : êµ¬ê°„ì„ ì§€ì •í•´ì„œ êµ¬ê°„ì˜ ë°ì´í„°ì˜ í•©ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜

```java
import java.util.Scanner;

public class Main {

	public static int[] tree;

	public static void update(int node, int s, int e, int idx, int add){
		if(idx<s || e<idx){
			return;
		}

		if(s==e && idx == e){
			tree[node] += add;
			return;
		}

		int lc = 2*node;
		int rc = 2*node+1;
		int m = (s+e)/2;

		update(lc, s, m, idx, add);
		update(rc, m+1, e, idx, add);

		tree[node] = tree[lc]+tree[rc];

	}

	public static int query(int node, int s, int e, int qs, int qe){

		if(e<qs || qe<s){
			return 0;
		}

		if(qs<=s &&  e<=qe){
			return tree[node];
		}

		int lc = 2*node;
		int rc = 2*node+1;
		int m = (s+e)/2;

		int a = query(lc, s, m, qs, qe);
		int b =query(rc, m+1, e, qs, qe);

		return a+b;
	}


	public static void init(int node, int s, int e, int idx, int data){


//		System.out.println(node);
		if(s==e){
			tree[node] = data;
			return;
		};

		int lc = 2*node;
		int rc = 2*node+1;
		int m = (s+e)/2;

		if(idx<=m)init(lc, s, m, idx, data);
		else init(rc, m+1, e, idx, data);

		tree[node] = tree[lc] + tree[rc];

		return;
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		Scanner sc = new Scanner(System.in);

		int n = sc.nextInt();
		int cnt_query = sc.nextInt();
		tree = new int[5*n+1];

		for(int i=1; i<=n; i++){
			init(1,1,n,i,sc.nextInt());
		}

		for(int i=0; i<cnt_query; i++){
			int x = sc.nextInt();
			int y = sc.nextInt();
			int z = sc.nextInt();
			int r = sc.nextInt();

			System.out.println(query(1, 1, n, x, y));
			update(1, 1, n, z, r);
		}

	}

}

```


## ì„¸ê·¸ë¨¼íŠ¸ ì‘ìš© ë¬¸ì œ
* ê°ê°ì˜ êµ¬ê°„ë“¤ì˜ ë°ì´í„°ì˜ ê³±ì´ ì–‘ìˆ˜ì´ë©´ 1, ìŒìˆ˜ì´ë©´ -1, 0ì´ë©´ 0ì„ query í†µí•´ ì œê³µí•˜ëŠ” ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ ë§Œë“¤ê¸°

```java
import java.util.Scanner;

public class ì„¸ê·¸ë¨¼íŠ¸ {

    public static int n;
    public static int[] tree;

    public static void init(int n, int s, int e, int idx, int data){

        if(s==e){
            tree[n] = data;
            return;
        }

        int lc = n*2;
        int rc = n*2 + 1;
        int m = (s+e)/2;

        if(m<=idx)init(lc,s,m, idx, data);
        else init(rc, m+1, e, idx, data);

        tree[n] *= data;
        return;
    }

    public static void update(int n, int s, int e, int idx, int data){

        if(idx<s||idx>e){
            return;
        }

        if(s==idx){
            if(data>0){
                tree[n] = 1;
            }
            else if(data==0){
                tree[n] = 0;
            }
            else{
                tree[n] = -1;
            }
        }

        int lc = n*2;
        int rc = n*2 + 1;
        int m = (s+e)/2;

        update(lc, s, m-1, idx, data);
        update(rc, m, e, idx, data);

        tree[n] = tree[lc] * tree[rc];

    }

    public static int query(int n, int s, int e, int qs, int qe){

        if(qe<s||e<qe){
            return 1;
        }

        if(qs<=s && e<=qe){
            return tree[n];
        }

        int lc = n*2;
        int rc = n*2 + 1;
        int m = (s+e)/2;

        int a = query(lc, s, m-1, qs, qe);
        int b = query(rc, m, e, qs, qe);

        return a*b;
    }

    public static void main(String[] args){

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();
        int cnt = sc.nextInt();
        int[] tree = new int[2*n+1];

        for(int i=1; i<=n; i++){
            init(1,1,2*n + 1, i, sc.nextInt());
        }

        for(int i=0; i<2*n+1;i++){
            System.out.print(tree[i]+" ");
        }


    }

}
```