---
layout: default
title:  "ìµœë‹¨ê²½ë¡œ ğŸ†•"
date:   2017-11-19
categories: "ì•Œê³ ë¦¬ì¦˜"
---

# ì•Œê³ ë¦¬ì¦˜ - ìµœë‹¨ê²½ë¡œ (ë²¨ë§Œí¬ë“œ, ë‹¤ìµìŠ¤íŠ¸ë¼)
* ë²¨ë§Œí¬ë“œ : ìŒìˆ˜ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê²½ìš°.
* ë‹¤ìµìŠ¤íŠ¸ë¼ : ì¼ë°˜ì ì¸ ìµœë‹¨ ê²½ë¡œ ë¬¸ì œ (ì–‘ìˆ˜ê°€ì¤‘ì¹˜).
* BFS : íŠ¸ë¦¬ë‚˜ ê°€ì¤‘ì¹˜ê°€ 1ì¸ ê²½ìš°.

<br>
## ë²¨ë§Œí¬ë“œ
* `dist[i]`ë¼ëŠ” ë°°ì—´ì„ ë§Œë“¤ê³  ì‹œì‘ì ì—ì„œ ië¡œ ê°€ëŠ” ìµœë‹¨ ê²½ë¡œë¥¼ ì €ì¥í•˜ì.
* ëª¨ë“  ê°„ì„ ì— ëŒ€í•˜ì—¬ `dist[v] = Min(dist[v], dist[u]+c` ë¥¼ ê²€ì‚¬í•œë‹¤.
* ì´ì™€ ê°™ì€ ê³¼ì •ì„ ë…¸ë“œê°€ `N`ê°œì¼ ê²½ìš° `N-1`ë²ˆ ë°˜ë³µí•œë‹¤.
* ì‹œê°„ë³µì¡ë„ : O(VE)
* E<=V^2 ì´ë¯€ë¡œ O(V^3) ì •ë„ì„.
* ê°€ì¤‘ì¹˜ê°€ ìŒìˆ˜ê°€ ìˆëŠ” ê²½ìš°ì—ë„ ì‚¬ìš© ê°€ëŠ¥.

* Ex) Backjoon11657 íƒ€ì„ë¨¸ì‹  ë¬¸ì œ

```java

import java.util.ArrayList;
import java.util.Scanner;

class Edge{

    int start;
    int end;
    int cost;

    Edge(){
        this.start=0;
        this.end=0;
        this.cost=0;

    }

    Edge(int s, int e, int c){
        this.start = s;
        this.end = e;
        this.cost = c;
    }

}

public class Main {

    public static void main(String[] args){

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();
        int m = sc.nextInt();
        int inf = Integer.MAX_VALUE;

        ArrayList<Edge> a = new ArrayList<>();
        int[] dist = new int[n+1];

        for(int i=1; i<n+1; i++){
            dist[i] = inf;
        }



        for(int i=0; i<m; i++){
            int x = sc.nextInt();
            int y = sc.nextInt();
            int c = sc.nextInt();

            a.add(new Edge(x,y,c));
        }

        dist[1] = 0;

        boolean cycle = false;

        for(int i=1;i<=n;i++){
            for(Edge e : a){
                int x = e.start;
                int y = e.end;
                int c = e.cost;
                if(dist[x] != inf && dist[y]>dist[x]+c) {
                    dist[y] = dist[x] + c;
                    if (i == n) {//ìŒìˆ˜ ì‚¬ì´í´ì´ ì¡´ì¬í•œ ë‹¤ëŠ” ì˜ë¯¸
                        cycle = true;
                    }
                }
            }
        }

        if(cycle){
            System.out.println(-1);
        }else{
            for(int i=2; i<=n; i++) {
                if (dist[i] == inf) dist[i] = -1;
                System.out.println(dist[i]);
            }
        }

    }
}

```

* Ex) Backjoon1865 ì›œí™€ ë¬¸ì œ
* ë¬¸ì œë‚´ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ìŒìˆ˜ê°€ì¤‘ì¹˜ë¥¼ ì–¸ê¸‰í•˜ì§„ ì•Šì§€ë§Œ ì›œí™€ ìì²´ê°€ ìŒìˆ˜ ê°„ì„ ì„ì„ ì•Œì•„ì±Œ ìˆ˜ ìˆìŒ.

```java

import java.util.ArrayList;
import java.util.Scanner;

class Edge{

    int start;
    int end;
    int cost;

    Edge(){
        this.start=0;
        this.end=0;
        this.cost=0;

    }

    Edge(int s, int e, int c){
        this.start = s;
        this.end = e;
        this.cost = c;
    }

}

public class Main {

    public static void main(String[] args){

        Scanner sc = new Scanner(System.in);

        int t = sc.nextInt();
        int inf = Integer.MAX_VALUE;

        for(int k=0; k<t; k++){
            int n = sc.nextInt();
            int m = sc.nextInt();
            int w = sc.nextInt();

            ArrayList<Edge> a = new ArrayList<>();

            for(int i=0; i<m; i++){
                int s = sc.nextInt();
                int e = sc.nextInt();
                int c = sc.nextInt();

                a.add(new Edge(s,e,c));
                a.add(new Edge(e,s,c));
            }

            for(int i=0; i<w; i++){
                int x = sc.nextInt();
                int y = sc.nextInt();
                int z = sc.nextInt();//ì¤„ì–´ë“œëŠ” ì‹œê°„
                a.add(new Edge(x,y,-1*z)); // í•˜ë‚˜ì˜ ìŒìˆ˜ê°€ì¤‘ì¹˜ì˜ ê°„ì„ ì´ë¼ê³  ìƒê°í•˜ì.
            }

            int[] dist = new int[n+1];
            for(int i=1; i<=n; i++) {
                dist[i] = inf;
            }

            dist[1]=0;

            boolean cycle = false;

            for(int i=1; i<=n; i++){
                for(Edge e : a){
                    int x = e.start;
                    int y = e.end;
                    int z = e.cost;
                    if(dist[x]!=inf&&dist[y]>dist[x]+z){
                        dist[y] = dist[x]+z;
                        if(i==n){
                            cycle=true;
                        }

                    }
                }
            }

            if(cycle){
                System.out.println("YES");
            }else{
                System.out.println("NO");
            }

        }
    }

}

```


<br>
## ë‹¤ìµìŠ¤íŠ¸ë¼
* `dist[i]`ë¼ëŠ” ë°°ì—´ê³¼ `check[i]`ë¼ëŠ” ë°°ì—´ì´ í•„ìš”í•¨.
* `check[i]=i`ê°€ ì²´í¬ë˜ì–´ ìˆìœ¼ë©´ `true`, ì•„ë‹ ê²½ìš° `false`ë¥¼ í•´ì¤Œ.
* `V^2` ì‹œê°„ë³µì¡ë„ê°€ ê±¸ë¦¼.
* ë°©ë²•
1. ì²´í¬ë˜ì–´ ìˆì§€ ì•Šì€ ì •ì  ì¤‘ì—ì„œ distì˜ ê°’ì´ ê°€ì¥ ì‘ì€ ì •ì  Vë¥¼ ì„ íƒí•œë‹¤.
2. Vë¥¼ ì²´í¬í•œë‹¤
3. Vì™€ ì—°ê²°ëœ ëª¨ë“  ì •ì ì„ ê²€ì‚¬í•¨.
4. ê°„ì„ (ì¶œë°œ,ë„ì°©,ë¹„ìš©)ì„ `(x,y,z)`ë¼ í•  ë•Œ `dist[y] > dist[x] + z`ì´ë©´ `dist[y] = dist[x] + z` ë¡œ ê°±ì‹ 
5. 1~4 ê¹Œì§€ ëª¨ë“  ì •ì ì´ ì²´í¬ ë  ë•Œ ê¹Œì§€ ê³„ì† ì§„í–‰

* ì˜ˆì œ Baekjoon 11770 ìµœì†Œë¹„ìš©, ê²½ë¡œ êµ¬í•˜ê¸° ë¬¸ì œ

```java
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;
import java.util.Stack;

public class Baekjoon1916_ë‹¤ìµìŠ¤íŠ¸ë¼ {

    public static void main(String[] args){

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();
        int m = sc.nextInt();
        int inf = 1000000000;

        int[] dist = new int[n+1];
        boolean[] check = new boolean[n+1]; // ë°©ë¬¸í•œ ë…¸ë“œì¸ì§€ ì•„ë‹Œì§€ ì²´í¬
        int[] v = new int[n+1]; // ê²½ë¡œë¥¼ ì…ë ¥

        List<Edge>[] a = (List<Edge>[])new List[n+1];

        for(int i=1; i<=n; i++){
            a[i] = new ArrayList<>();
            check[i] = false;
            dist[i] = inf;
        }


        for(int i=0; i<m; i++){
            int x = sc.nextInt();
            int y = sc.nextInt();
            int c = sc.nextInt();

            a[x].add(new Edge(x,y,c));
        }


        int start = sc.nextInt();
        int end = sc.nextInt();

        dist[start] = 0;
        v[start] = -1;

        for(int k=0;k<n-1;k++){
            //ë…¸ë“œì¤‘ distê°€ ê°€ì¥ ë‚®ì€ ê°’ ì°¾ê¸°
            int j = inf +1;
            int x = -1;
            for(int i=1; i<=n; i++){
                if(!check[i] && j>dist[i]){
                    j = dist[i];
                    x = i;
                }
            }

            check[x] = true;
            for(Edge y : a[x]){
                if(dist[y.end]>dist[x]+y.cost){
                    dist[y.end] = dist[x]+y.cost;
                    v[y.end] = x;
                }
            }
        }

        System.out.println(dist[end]);

        //ê²½ë¡œ ì¶œë ¥í•˜ê¸°

        Stack<Integer> s = new Stack<Integer>();
        int x = end;
        while(x!= -1){
            s.push(x);
            x = v[x];
        }

        System.out.println(s.size());

        while(!s.empty()){
            System.out.print(s.pop()+" ");
        }

    }
}


```

* ì˜ˆì œ Baekjoon 1504 íŠ¹ì • ê²½ë¡œë¥¼ ì§€ë‚˜ì³ì•¼ í•˜ëŠ” ë¬¸ì œ.
* ë…¸ë“œ `V1`ê³¼ `V2`ë¥¼ ê±°ì³ì„œ ê°€ëŠ” ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ëŠ” ê²½ìš° `1->V1`,`V1->V2`,`V2->n`ì˜ ê²½ìš°ì™€ `1->V2`,`V2->V1`,`V1->n` ì¤‘
ë” ì ê²Œ ê±¸ë¦¬ëŠ” ê²ƒì„ ë°˜í™˜ í•˜ë©° í’€ê¸°.
* ì¸ì ‘í–‰ë ¬ì„ ì´ìš©í•´ì„œ í’€ì–´ë³´ì.

```java
import java.util.*;
public class Main {
    static final int inf = 100000000;
    private static int[] dijkstra(int n, int[][] a, int start) {
        int[] d = new int[n+1];
        boolean[]c = new boolean[n+1];
        for (int i=1; i<=n; i++) {
            d[i] = inf;
            c[i] = false;
        }
        d[start] = 0;
        for (int k=0; k<n-1; k++) {
            int min = inf+1;
            int x = -1;
            for (int i=1; i<=n; i++) {
                if (c[i] == false && min > d[i]) {
                    min = d[i];
                    x = i;
                }
            }
            c[x] = true;
            for (int i=1; i<=n; i++) {
                if (d[i] > d[x] + a[x][i]) {
                    d[i] = d[x] + a[x][i];
                }
            }
        }
        return d;
    }
    public static void main(String args[]) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int[][]a = new int[n+1][n+1];
        for (int i=1; i<=n; i++) {
            for (int j=1; j<=n; j++) {
                a[i][j] = inf;
            }
        }
        int m = sc.nextInt();
        for (int i=0; i<m; i++) {
            int x = sc.nextInt();
            int y = sc.nextInt();
            int z = sc.nextInt();
            if (a[x][y] > z) {
                a[x][y] = z;
            }
            if (a[y][x] > z) {
                a[y][x] = z;
            }
        }
        int v1 = sc.nextInt();
        int v2 = sc.nextInt();
        int[] dstart = dijkstra(n,a,1);
        int[] d1 = dijkstra(n,a,v1);
        int[] d2 = dijkstra(n,a,v2);
        int ans = dstart[v1] + d1[v2] + d2[n];
        int ans2 = dstart[v2] + d2[v1] + d1[n];
        if (ans > ans2) {
            ans = ans2;
        }
        if (ans >= inf) {
            ans = -1;
        }
        System.out.println(ans);
    }
}
```

<br>
## í”Œë¡œì´ë“œ
* ê°€ì¥ ì‰½ê³  ë¹ ë¥´ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.
* ëª¨ë“  ìŒì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„.

```java
for (int k=1; k<=n; k++) {
    for (int i=1; i<=n; i++) {
        for (int j=1; j<=n; j++) {
            if (d[i][j] > d[i][k] + d[k][j]) {
                d[i][j] = d[i][k] + d[k][j];
            }
        }
    }
}
```

* ìœ„ ì½”ë“œë¡œ êµ¬í˜„ì´ ê°€ëŠ¥.
* O(V^3)ì˜ ì‹œê°„ë³µì¡ë„ì´ë¯€ë¡œ íš¨ìœ¨ì ì´ì§„ ì•ŠìŒ.
* `1~n`ê¹Œì§€ì˜ ì •ì ì´ ìˆì„ ë•Œ `d[k][i][j]`ë¥¼ `i->j`ë¥¼ ì´ë™í•˜ëŠ” ìµœë‹¨ ê²½ë¡œ
* ì¤‘ê°„ì— ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì •ì ì€ `1~k`
* kê°€ ê²½ë¡œì— ì—†ëŠ” ê²½ìš° `d[k-1][i][j]`
* kê°€ ê²½ë¡œì— ìˆëŠ” ê²½ìš° `d[k-1][i][k]+d[k-1][k][j]` ë¡œ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆìŒ
* ex) Baekjoon11403 ë¬¸ì œ, ê°€ì¤‘ì¹˜ê°€ ì—†ëŠ” ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ì—°ê²° ì—¬ë¶€ ì°¾ê¸°

```java
import java.util.Scanner;

public class Baekjoon11403_ê²½ë¡œì°¾ê¸°_í”Œë¡œì´ë“œ {

    public static void main(String[] args){

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();

        int[][] dist = new int[n][n];

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){
                dist[i][j] = sc.nextInt();
            }
        }


        //k,i,jì˜ ìœ„ì¹˜ì— ì£¼ì˜í•  ê²ƒ, ì´ ê²½ìš°ëŠ” ê°€ì¤‘ì¹˜ê°€ ì—†ê³  ì—°ê²°ë¨ì„ íŒŒì•…í•˜ëŠ” ë¬¸ì œì´ë¯€ë¡œ ifë¬¸ì˜ ì¡°ê±´ì„ ë‹¤ìŒê³¼ ê°™ì´í•¨.
        for(int k=0; k<n; k++){
            for(int i=0; i<n; i++){
                for(int j=0; j<n; j++){
                    if(dist[i][k]==1 && dist[k][j]==1){
                        dist[i][j] = 1;
                    }
                }
            }
        }

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){

                System.out.print(dist[i][j]);
                System.out.print(" ");

            }
            System.out.println();
        }


    }


}

```

* ex) Baekjoon11404 í”Œë¡œì´ë“œ ë¬¸ì œ

```java
import java.util.Scanner;

public class Baekjoon11404_í”Œë¡œì´ë“œ {

    public static void main(String[] args){

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();
        int m = sc.nextInt();

        int[][] dist = new int[n][n];
        int inf=Integer.MAX_VALUE;

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){
                dist[i][j] = inf;
            }
        }

        for(int i=0; i<m; i++){
            int x = sc.nextInt();
            int y = sc.nextInt();
            int cost= sc.nextInt();
            if(dist[x-1][y-1]==inf||cost<dist[x-1][y-1]){
                dist[x-1][y-1] = cost;
            }
        }
        //k,i,jì˜ ìœ„ì¹˜ì— ì£¼ì˜í•  ê²ƒ, ì´ ê²½ìš°ëŠ” ê°€ì¤‘ì¹˜ê°€ ì—†ê³  ì—°ê²°ë¨ì„ íŒŒì•…í•˜ëŠ” ë¬¸ì œì´ë¯€ë¡œ ifë¬¸ì˜ ì¡°ê±´ì„ ë‹¤ìŒê³¼ ê°™ì´í•¨.
        for(int k=0; k<n; k++){
            for(int i=0; i<n; i++){
                for(int j=0; j<n; j++){
                    if(i!=j && j!=k &&k!=i) {
                        if (dist[i][k] != inf && dist[k][j] != inf && dist[i][j] > dist[i][k] + dist[k][j]) {
                            dist[i][j] = dist[i][k] + dist[k][j];
                        }
                    }
                }
            }
        }

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){
                if(dist[i][j]==inf){
                    System.out.print("0");
                    System.out.print(" ");
                }
                else{
                    System.out.print(dist[i][j]);
                    System.out.print(" ");
                }

            }
            System.out.println();
        }

    }


}

```

* ex) Baekjoon1507 ê¶ê¸ˆí•œë¯¼í˜¸
* ìµœì†Œ ì´ë™ì‹œê°„ì„ êµ¬í•œ ìƒíƒœì—ì„œ í•„ìš”ì—†ëŠ” ê²½ë¡œ ì œê±°í•˜ê¸°

```java
import java.util.Scanner;

public class Baekjoon1507_ê¶ê¸ˆí•œë¯¼í˜¸ {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();

        int[][] dist = new int[n][n];
        boolean[][] unused = new boolean[n][n];

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){
                dist[i][j] = sc.nextInt();
            }
        }

        //A->C->B ë¡œ ê°€ëŠ” ë¹„ìš©ì´ Xì´ë©´ A->Bë¡œ ê°€ëŠ” ë„ë¡œëŠ” í•„ìš”ì—†ìŒ
        //ëª¨ë“  ë„ì‹œ ìŒì„ ë³´ë…€ í•„ìš”ì—†ëŠ” ë„ë¡œë¥¼ ì œê±°
        for(int k=0; k<n; k++){
            for(int i=0; i<n; i++){
                if(i==k) continue;
                for(int j=0; j<n; j++){
                    if(i == j) continue;
                    if(k == j) continue;

                    //ì´ëŸ°ê²½ìš°ëŠ” ì• ì´ˆì— ìƒê¸¸ ìˆ˜ ì—†ìŒ, ì™œëƒë©´ ì´ë¯¸ ìµœì†Œ ì´ë™ì‹œê°„ì„ êµ¬í•´ë†¨ìœ¼ë¯€ë¡œ
                    if(dist[i][j]>dist[i][k]+dist[k][j]){
                        System.out.println(-1);
                        System.exit(0);
                    }

                    if(dist[i][j] == dist[i][k]+dist[k][j]){
                        unused[i][j] = true;
                    }
                }
            }
        }

        int ans = 0;

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){
                if(unused[i][j] == false) {
                    ans += dist[i][j];
//                    System.out.print(dist[i][j]);
//                    System.out.print(" ");
                }else{
//                    System.out.print(0);
//                    System.out.print(" ");
                }
            }
//            System.out.println();
        }

        System.out.println(ans/2);


    }
}

```

* ex) Baekjoon1956 ìš´ë™ í”Œë¡œì´ë“œ
* ìê¸°ìì‹ ìœ¼ë¡œ ë˜ëŒì•„ì˜¤ëŠ” cycle ì¤‘ ê°€ì¥ ì§§ì€ ê²ƒ.
* í”Œë¡œì´ë“œë¥¼ í†µí•´ `dist` ë°°ì—´ì„ ëª¨ë‘ êµ¬í•œ ë’¤ (ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šì€ ê²ƒì€ inf) ë§ˆì§€ë§‰ì— `d[i][i]` ê°’ (iëŠ” 1~n) ì´ ê°€ì¥ ì‘ì€ ê²ƒì„ ë°˜í™˜ í•˜ë©´ ë¨.

```java
import java.util.Scanner;

public class Main {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();
        int m = sc.nextInt();

        int[][] dist = new int[n][n];
        int inf= 1000000;

        for(int i=0; i<n; i++){
            for(int j=0; j<n; j++){
                dist[i][j] = inf;
            }
        }


        for (int i = 0; i < m; i++) {
            int x = sc.nextInt();
            int y = sc.nextInt();
            int c = sc.nextInt();

            dist[x-1][y-1] = c;
        }

        for (int k = 0; k < n; k++) {
            for (int i = 0; i < n; i++) {
                for (int j = 0; j < n; j++) {
                    if (dist[i][j] > dist[i][k] + dist[k][j]) {
                        dist[i][j] = dist[i][k] + dist[k][j];
                    }

                }
            }
        }

        int ans = Integer.MAX_VALUE;

        for(int i=0; i<n; i++){
            if(ans>dist[i][i]){
                ans = dist[i][i];
            }
        }

        if(ans==inf) System.out.println(-1);
        else System.out.println(ans);

    }
}


```

<br>
## SPFA (Shorteest Path Faster Algorithm)
* ë²¨ë§Œí¬ë“œ ì•Œê³ ë¦¬ì¦˜ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ ì•Œê³ ë¦¬ì¦˜.
* ìµœì•…ì˜ ê²½ìš°ì—ëŠ” ë²¨ë§Œ í¬ë“œì˜ ì‹œê°„ë³µì¡ë„ì™€ ê°™ì§€ë§Œ í‰ê· ì ìœ¼ë¡œ O(E)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§.
* ë²¨ë§Œí¬ë“œì˜ ì•„ì´ë””ì–´ì™€ ê°™ì€ ì•„ì´ë””ì–´
* ë²¨ë§Œí¬ë“œëŠ” ëª¨ë“  ê°„ì„ ì— ëŒ€í•´ì„œ ì—…ë°ì´í‹°ë¥¼ ì§„í–‰í•œë‹¤
* SPFAëŠ” ì•„ë˜ ifë¬¸ì— ì˜í•´ì„œ ë°”ë€ ì •ì ê³¼ ì—°ê²°ëœ ê°„ì„ ì— ëŒ€í•´ì„œë§Œ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•œë‹¤ -> ì¸ì ‘ë¦¬ìŠ¤íŠ¸ êµ¬í˜„
* ë°”ë€ ì •ì ì€ íë¥¼ ì´ìš©í•´ì„œ ê´€ë¦¬í•˜ê³ , íì— ë“¤ì–´ê°€ ìˆëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ ë°°ì—´ì„ ì´ìš©í•´ì„œ ì²´í¬
* ì´ˆê¸°í™”ë¥¼ í•˜ê³  íì— ì‹œì‘ì ì„ ë„£ì–´ì¤Œ

```java
for (int i=1; i<=n; i++) {
    d[i] = inf;
}

d[1] = 0;

queue<int> q;
q.push(1);
c[1] = true;

while (!q.empty()) {
    int from = q.front();
    c[from] = false; q.pop();
    for (Edge e : a) { // a ëŠ” ë°°ì—´ë¦¬ìŠ¤íŠ¸
        int to = e.to;
        int cost = e.cost;
        if (d[to] > d[from] + cost) {
            d[to] = d[from] + cost;
            if (c[to] == false) { // ë³€í™”ê°€ ìƒê¸¸ ì‹œì— íì— ë„£ì–´ì¤Œ.
                q.push(to);
                c[to] = true;
            }
        }
    }
}
```

* SPFAë¡œ Baekjoon 11657 íƒ€ì„ë¨¸ì‹  ë¬¸ì œ í•´ê²°

```java

import java.util.*;

class Edge {
    int to;
    int cost;
    Edge(int to, int cost) {
        this.to = to;
        this.cost = cost;
    }
}

public class Main {

    static final int inf = 1000000000;

    public static void main(String args[]) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int m = sc.nextInt();

        ArrayList<Edge>[] a = (ArrayList<Edge>[]) new ArrayList[n+1];
        int[] dist = new int[n+1];
        boolean[] check = new boolean[n+1];
        int[] cnt = new int[n+1];

        for (int i=1; i<=n; i++) {
            a[i] = new ArrayList<Edge>();
        }

        for (int i=0; i<m; i++) {
            int from = sc.nextInt();
            int to = sc.nextInt();
            int cost = sc.nextInt();
            a[from].add(new Edge(to, cost));
        }

        for (int i=1; i<=n; i++) {
            dist[i] = inf;
        }
        dist[1] = 0;

        //ì—¬ê¸° ê¹Œì§€ëŠ” ë²¨ë§Œí¬ë“œì™€ ê°™ìŒ.


        Queue<Integer> q = new LinkedList<>();;
        q.add(1);
        check[1] = true;
        while (!q.isEmpty()) {
            int from = q.remove();
            check[from] = false;
            for (Edge e : a[from]) {
                int to = e.to;
                int cost = e.cost;
                if (dist[to] > dist[from] + cost) {
                    dist[to] = dist[from] + cost;
                    if (check[to] == false) {
                        q.add(to);
                        check[to] = true;
                        cnt[to] + = 1;
                        if (cnt[to] >= n) {//ìŒìˆ˜ì‚¬ì´í´ ì¡´ì¬ì—¬ë¶€ íŒë‹¨
                            System.out.println(-1);
                            System.exit(0);
                        }
                    }
                }
            }
        }
        for (int i=2; i<=n; i++) {
            if (dist[i] == inf) {
                System.out.println(-1);
            } else {
                System.out.println(dist[i]);
            }
        }
    }
}


```